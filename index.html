<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="page-title">موقع الشيخ عبدالرحمن حماده خليل</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DCH1HF858D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-DCH1HF858D');
    </script>
    <style>
        /* CSS Variables for consistent styling */
        :root {
            --primary-dark-blue: #1A3E63;
            --bright-gold: #D4AF37;
            --warm-sandy-beige: #F8F4ED;
            --dark-brown: #2C2018;
            --off-white: #FFFFFF;
            --shadow-subtle: rgba(0,0,0,0.05);
            --shadow-medium: rgba(0,0,0,0.12);
            --shadow-strong: rgba(0,0,0,0.25);
            --border-radius-main: 12px;
            --transition-speed: 0.4s;
        }

        /* Basic Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body Styling - Direction handled by JS on html tag */
        body {
            font-family: 'Cairo', sans-serif;
            line-height: 1.8;
            background-color: var(--warm-sandy-beige);
            color: var(--dark-brown);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Headings Styling */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Amiri', serif;
            color: var(--primary-dark-blue);
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            font-size: 3.2em;
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 60px;
            letter-spacing: 0.5px;
        }
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background-color: var(--bright-gold);
            border-radius: 3px;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .section-header.animate h2::after {
            width: 160px;
        }

        /* Container for content width */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 25px;
        }

        /* Animations & Scroll Reveal */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .fade-in.animate {
            opacity: 1;
            transform: translateY(0);
        }
        .scale-in {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .scale-in.animate {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Header Styling */
        header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: all 0.5s ease;
            box-shadow: 0 6px 20px var(--shadow-subtle);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 2.2em;
            font-weight: 700;
            color: var(--primary-dark-blue);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .logo:hover {
            color: var(--bright-gold);
        }
        .logo img {
            height: 70px; 
            width: auto;
            box-shadow: 0 4px 12px var(--shadow-medium);
            object-fit: contain;
            border: 3px solid var(--bright-gold);
            border-radius: 8px;
            vertical-align: middle; 
            margin-inline-end: 15px; 
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 40px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--primary-dark-blue);
            font-weight: 600;
            font-size: 1.15em;
            transition: all 0.3s ease;
            position: relative;
            padding-bottom: 8px;
        }
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 4px;
            background-color: var(--bright-gold);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .nav-links a:hover {
            color: var(--bright-gold);
        }
        .nav-links a:hover::after {
            width: 100%;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 7px;
        }

        .menu-toggle .bar {
            width: 32px;
            height: 4px;
            background-color: var(--primary-dark-blue);
            transition: all 0.3s ease;
        }

        .language-switcher {
            position: relative;
            color: var(--primary-dark-blue);
            font-weight: 600;
            cursor: pointer;
            font-size: 1.15em;
            display: flex; 
            align-items: center; 
            gap: 8px; 
        }
        
        html[dir="rtl"] .language-switcher {
            margin-right: 20px;
        }
        html[dir="ltr"] .language-switcher {
            margin-left: 20px;
        }
        
        .language-switcher .fas.fa-chevron-down {
            font-size: 0.8em; 
            transition: transform 0.3s ease;
        }
        .language-switcher.active .fas.fa-chevron-down {
            transform: rotate(180deg);
        }


        .language-switcher .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--off-white);
            min-width: 120px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: var(--border-radius-main);
            overflow: hidden;
            top: 100%; 
            margin-top: 10px; 
        }
        html[dir="rtl"] .language-switcher .dropdown-content {
            right: 0; 
            left: unset;
        }
        html[dir="ltr"] .language-switcher .dropdown-content {
            left: 0; 
            right: unset;
        }

        .language-switcher .dropdown-content a {
            color: var(--primary-dark-blue);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }
        html[dir="rtl"] .language-switcher .dropdown-content a {
            text-align: right; 
        }
        html[dir="ltr"] .language-switcher .dropdown-content a {
            text-align: left; 
        }
        .language-switcher .dropdown-content a:hover {
            background-color: var(--warm-sandy-beige);
            color: var(--bright-gold);
        }
        .language-switcher.active .dropdown-content {
            display: block;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-dark-blue) 0%, #4A7BA8 100%);
            color: var(--off-white);
            min-height: 100vh;
            display: flex;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            padding-top: 150px;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(26, 62, 99, 0.7), rgba(26, 62, 99, 0.85));
            z-index: 1;
        }
        .hero .container {
            position: relative;
            z-index: 2;
            padding-top: 60px;
            padding-bottom: 60px;
        }

        .hero h1 {
            font-size: 4.2em;
            margin-bottom: 30px;
            color: var(--bright-gold);
            text-shadow: 4px 4px 12px var(--shadow-medium);
            animation: fadeInDown 1.2s ease-out forwards;
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-70px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero p {
            font-size: 1.9em;
            max-width: 900px;
            margin: 0 auto 60px auto;
            line-height: 1.7;
            animation: fadeIn 1.4s ease-out 0.3s forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .hero .btn {
            display: inline-block;
            background-color: var(--bright-gold);
            color: var(--primary-dark-blue);
            padding: 22px 50px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.5em;
            font-weight: 700;
            transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            box-shadow: 0 10px 30px var(--shadow-medium);
            animation: fadeInUp 1.4s ease-out 0.6s forwards;
            opacity: 0;
            border: 2px solid var(--bright-gold);
        }
        .hero .btn:hover {
            background-color: transparent;
            color: var(--bright-gold);
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 40px var(--shadow-strong);
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(70px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Sections General Styling */
        section {
            padding: 120px 0;
            text-align: center;
            position: relative;
        }
        section:nth-of-type(even) {
            background-color: var(--off-white);
        }
        section:nth-of-type(odd) {
            background-color: var(--warm-sandy-beige);
            background-size: cover;
            background-position: center;
        }

        /* About Section */
        .about-content {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 70px;
            padding-top: 50px;
        }
        html[dir="rtl"] .about-content {
            text-align: right;
            direction: rtl;
        }
        html[dir="ltr"] .about-content {
            text-align: left;
            direction: ltr;
        }

        .about-image {
            flex: 1;
            min-width: 350px;
            max-width: 550px;
            border-radius: var(--border-radius-main);
            overflow: hidden;
            box-shadow: 0 18px 45px var(--shadow-medium);
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
            transform: translateY(0);
        }
        .about-image.animate {
            transform: translateY(-25px) rotate(1deg);
        }
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: var(--border-radius-main);
            transition: transform 0.5s ease;
        }
        .about-image img:hover {
            transform: scale(1.05);
        }
        .about-text {
            flex: 2;
            min-width: 300px;
            font-size: 1.3em;
            color: var(--dark-brown);
        }
        .about-text h3 {
            font-size: 2.8em;
            color: var(--primary-dark-blue);
            margin-bottom: 35px;
            position: relative;
        }
        html[dir="rtl"] .about-text h3 {
            text-align: right;
            padding-right: 30px;
            padding-left: 0;
        }
        html[dir="ltr"] .about-text h3 {
            text-align: left;
            padding-left: 30px;
            padding-right: 0;
        }
        .about-text h3::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 100%;
            background-color: var(--bright-gold);
            border-radius: 4px;
        }
        html[dir="rtl"] .about-text h3::before {
            right: 0;
            left: unset;
        }
        html[dir="ltr"] .about-text h3::before {
            left: 0;
            right: unset;
        }
        .about-text p {
            margin-bottom: 25px;
            line-height: 1.9;
        }

        /* Ijazat Section */
        .ijazat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 60px;
            margin-top: 70px;
        }
        .ijaza-card {
            background-color: var(--off-white);
            border-radius: var(--border-radius-main);
            padding: 48px;
            box-shadow: 0 12px 35px var(--shadow-subtle);
            transition: all var(--transition-speed) ease-out;
            border-bottom: 8px solid var(--primary-dark-blue);
            position: relative;
            overflow: hidden;
        }
        html[dir="rtl"] .ijaza-card {
            text-align: right;
        }
        html[dir="ltr"] .ijaza-card {
            text-align: left;
        }
        .ijaza-card::before {
            content: '';
            position: absolute;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle, rgba(255, 195, 0, 0.1) 0%, rgba(255, 195, 0, 0) 70%);
            transform: scale(0);
            transition: transform 0.6s ease-out;
            border-radius: 50%;
            z-index: 0;
        }
        .ijaza-card:hover {
            transform: translateY(-18px);
            box-shadow: 0 22px 50px var(--shadow-medium);
            border-color: var(--bright-gold);
        }
        .ijaza-card:hover::before {
            transform: scale(1);
        }
        .ijaza-card h3 {
            color: var(--primary-dark-blue);
            font-size: 2.5em;
            margin-bottom: 28px;
            position: relative;
            z-index: 1;
        }
        html[dir="rtl"] .ijaza-card h3 {
            text-align: right;
        }
        html[dir="ltr"] .ijaza-card h3 {
            text-align: left;
        }
        .ijaza-card p {
            color: var(--dark-brown);
            line-height: 1.9;
            position: relative;
            z-index: 1;
        }
        .ijaza-card ul {
            list-style: none;
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }
        html[dir="rtl"] .ijaza-card ul {
            padding-right: 35px;
            padding-left: 0;
            text-align: right;
        }
        html[dir="ltr"] .ijaza-card ul {
            padding-left: 35px;
            padding-right: 0;
            text-align: left;
        }
        .ijaza-card ul li {
            position: relative;
            margin-bottom: 18px;
            color: var(--dark-brown);
            font-size: 1.15em;
        }
        html[dir="rtl"] .ijaza-card ul li {
            padding-right: 35px;
            padding-left: 0;
        }
        html[dir="ltr"] .ijaza-card ul li {
            padding-left: 35px;
            padding-right: 0;
        }
        .ijaza-card ul li::before {
            content: '\f00c';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            color: var(--bright-gold);
            position: absolute;
            top: 2px;
            font-size: 1.4em;
        }
        html[dir="rtl"] .ijaza-card ul li::before {
            right: 0;
            left: unset;
        }
        html[dir="ltr"] .ijaza-card ul li::before {
            left: 0;
            right: unset;
        }

        /* Why Us Section */
        .why-us-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 50px;
            margin-top: 70px;
        }
        .why-us-item {
            background-color: var(--off-white);
            border-radius: var(--border-radius-main);
            padding: 45px;
            box-shadow: 0 12px 35px var(--shadow-subtle);
            text-align: center;
            transition: all var(--transition-speed) ease;
            border: 2px solid transparent;
        }
        .why-us-item:hover {
            background-color: var(--warm-sandy-beige);
            transform: translateY(-12px) scale(1.02);
            border-color: var(--primary-dark-blue);
            box-shadow: 0 18px 40px var(--shadow-medium);
        }
        .why-us-item .icon {
            font-size: 5em;
            color: var(--primary-dark-blue);
            margin-bottom: 35px;
            animation: rotateIn 1s ease-out;
        }
        @keyframes rotateIn {
            from { opacity: 0; transform: rotate(-100deg) scale(0.5); }
            to { opacity: 1; transform: rotate(0deg) scale(1); }
        }
        .why-us-item h3 {
            color: var(--primary-dark-blue);
            font-size: 2.2em;
            margin-bottom: 20px;
        }
        .why-us-item p {
            color: var(--dark-brown);
            line-height: 1.8;
        }

        /* Packages Section */
        .packages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 50px;
            margin-top: 70px;
        }
        .package-card {
            background-color: var(--off-white);
            border-radius: var(--border-radius-main);
            padding: 45px;
            box-shadow: 0 12px 35px var(--shadow-subtle);
            transition: all var(--transition-speed) ease-out;
            text-align: center;
            border-top: 8px solid var(--primary-dark-blue);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .package-card:hover {
            transform: translateY(-18px) rotate(1deg);
            box-shadow: 0 22px 50px var(--shadow-medium);
            border-color: var(--bright-gold);
        }
        .package-card .icon {
            font-size: 5em;
            color: var(--bright-gold);
            margin-bottom: 35px;
        }
        .package-card h3 {
            color: var(--primary-dark-blue);
            font-size: 2.4em;
            margin-bottom: 22px;
        }
        .package-card p {
            color: var(--dark-brown);
            line-height: 1.8;
            margin-bottom: 20px;
        }
        .package-card .package-details {
            flex-grow: 1; 
            margin-bottom: 30px;
        }
        .package-card .package-details .price-options {
            list-style: none;
            padding: 0;
            margin-top: 15px;
            text-align: center;
        }
        .package-card .package-details .price-options li {
            font-size: 1.1em;
            color: var(--dark-brown);
            margin-bottom: 8px;
            font-weight: 600;
        }
        .package-card .package-details .price-large {
            font-size: 2.5em;
            color: var(--bright-gold);
            font-weight: 700;
            margin-top: 15px;
            margin-bottom: 15px;
        }
        .package-card .btn {
            display: inline-block;
            background-color: var(--primary-dark-blue);
            color: var(--off-white);
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 1em;
            font-weight: 600;
            margin-top: 25px;
            transition: all 0.3s ease;
            border: 2px solid var(--primary-dark-blue);
        }
        .package-card .btn:hover {
            background-color: transparent;
            color: var(--primary-dark-blue);
            border-color: var(--bright-gold);
        }

        /* Dynamic Pricing Selects */
        .package-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .package-options label {
            font-size: 1em;
            color: var(--primary-dark-blue);
            font-weight: 600;
            margin-bottom: 5px;
            display: block;
        }
        .package-options select {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 1em;
            color: var(--dark-brown);
            background-color: var(--warm-sandy-beige);
            appearance: none; 
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%231A3E63%22%20d%3D%22M287%2C197.399L146.2%2C56.601L5.4%2C197.399h281.6z%22%2F%3E%3C%2Fsvg%3E'); 
            background-repeat: no-repeat;
            background-position: left 15px top 50%; 
            background-size: 12px;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        html[dir="ltr"] .package-options select {
            background-position: right 15px top 50%; 
            transform: rotate(180deg); 
        }
        .package-options select:focus {
            outline: none;
            border-color: var(--bright-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
        }
        .package-total-price {
            font-size: 1.6em;
            color: var(--primary-dark-blue);
            font-weight: 700;
            margin-top: 20px;
        }
        .package-total-price span { /* This is the price value span */
            color: var(--bright-gold);
            font-size: 1.2em;
        }

        /* New: Styling for package features list */
        .package-features-list {
            list-style: none;
            padding: 0;
            margin-top: 25px;
            text-align: right; /* Default for RTL */
            font-size: 1.05em;
            color: var(--dark-brown);
        }
        html[dir="ltr"] .package-features-list {
            text-align: left; /* For LTR */
        }
        .package-features-list li {
            margin-bottom: 12px;
            position: relative;
            padding-right: 25px; /* For RTL */
            line-height: 1.6;
        }
        html[dir="ltr"] .package-features-list li {
            padding-left: 25px; /* For LTR */
            padding-right: 0;
        }
        .package-features-list li i {
            color: var(--bright-gold);
            position: absolute;
            top: 5px;
            font-size: 1.1em;
        }
        html[dir="rtl"] .package-features-list li i {
            right: 0;
        }
        html[dir="ltr"] .package-features-list li i {
            left: 0;
        }


        /* Newsletter Section */
        .newsletter-section {
            background-color: var(--primary-dark-blue);
            color: var(--off-white);
            padding: 80px 0;
            text-align: center;
        }
        .newsletter-section h2 {
            color: var(--bright-gold);
            margin-bottom: 30px;
        }
        .newsletter-section p {
            font-size: 1.3em;
            max-width: 700px;
            margin: 0 auto 40px auto;
            line-height: 1.7;
        }
        .newsletter-form {
            display: flex;
            justify-content: center;
            gap: 20px;
            max-width: 600px;
            margin: 0 auto;
            flex-wrap: wrap;
        }
        .newsletter-form input[type="email"] {
            flex-grow: 1;
            padding: 18px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            background-color: rgba(255, 255, 255, 0.9);
            color: var(--dark-brown);
            transition: all 0.3s ease;
        }
        html[dir="rtl"] .newsletter-form input[type="email"] {
            text-align: right;
        }
        html[dir="ltr"] .newsletter-form input[type="email"] {
            text-align: left;
        }
        .newsletter-form input[type="email"]:focus {
            outline: none;
            box-shadow: 0 0 0 4px var(--bright-gold);
        }
        .newsletter-form button {
            background-color: var(--bright-gold);
            color: var(--primary-dark-blue);
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .newsletter-form button:hover {
            background-color: var(--off-white);
            color: var(--primary-dark-blue);
        }

        /* FAQ Section */
        .faq-accordion {
            margin-top: 70px;
            max-width: 950px;
            margin-left: auto;
            margin-right: auto;
        }
        html[dir="rtl"] .faq-accordion {
            text-align: right;
        }
        html[dir="ltr"] .faq-accordion {
            text-align: left;
        }
        .faq-item {
            background-color: var(--off-white);
            border-radius: var(--border-radius-main);
            margin-bottom: 25px;
            box-shadow: 0 8px 25px var(--shadow-subtle);
            overflow: hidden;
            border: 1px solid #eee;
            transition: all var(--transition-speed) ease;
        }
        .faq-item:hover {
            box-shadow: 0 12px 30px var(--shadow-medium);
            transform: translateY(-7px);
        }
        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 35px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.25em;
            color: var(--primary-dark-blue);
            transition: background-color var(--transition-speed) ease;
            border-bottom: 1px solid #e0e0e0;
        }
        .faq-question:hover {
            background-color: #fcfcfc;
        }
        .faq-question.active {
            background-color: var(--warm-sandy-beige);
            color: var(--bright-gold);
        }
        .faq-question .icon {
            font-size: 1.4em;
            transition: transform var(--transition-speed) ease;
        }
        .faq-question.active .icon {
            transform: rotate(180deg);
        }
        .faq-answer {
            padding: 0 35px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out, padding 0.6s ease-in-out;
            color: var(--dark-brown);
            line-height: 1.8;
            font-size: 1.1em;
        }
        html[dir="rtl"] .faq-answer {
            text-align: right;
        }
        html[dir="ltr"] .faq-answer {
            text-align: left;
        }
        
        .faq-question.active + .faq-answer {
            max-height: 2000px; 
            padding: 25px 35px 30px 35px;
        }

        /* Contact Section */
        .contact-content {
            display: flex;
            flex-wrap: wrap;
            gap: 70px;
            margin-top: 70px;
            justify-content: center;
        }
        html[dir="rtl"] .contact-content {
            text-align: right;
        }
        html[dir="ltr"] .contact-content {
            text-align: left;
        }
        .contact-info, .booking-form-wrapper {
            background-color: var(--off-white);
            padding: 55px;
            border-radius: var(--border-radius-main);
            box-shadow: 0 18px 45px var(--shadow-medium);
            flex: 1;
            min-width: 480px;
            transition: transform 0.5s ease-out;
        }
        html[dir="rtl"] .contact-info, html[dir="rtl"] .booking-form-wrapper {
            border-right: 8px solid var(--primary-dark-blue);
            border-left: unset;
        }
        html[dir="ltr"] .contact-info, html[dir="ltr"] .booking-form-wrapper {
            border-left: 8px solid var(--primary-dark-blue);
            border-right: unset;
        }
        .contact-info:hover, .booking-form-wrapper:hover {
            transform: translateY(-12px);
        }
        .contact-info h3, .booking-form-wrapper h3 {
            font-size: 2.8em;
            color: var(--primary-dark-blue);
            margin-bottom: 40px;
            position: relative;
        }
        html[dir="rtl"] .contact-info h3, html[dir="rtl"] .booking-form-wrapper h3 {
            text-align: right;
            padding-right: 30px;
            padding-left: 0;
        }
        html[dir="ltr"] .contact-info h3, html[dir="ltr"] .booking-form-wrapper h3 {
            text-align: left;
            padding-left: 30px;
            padding-right: 0;
        }
        .contact-info h3::before, .booking-form-wrapper h3::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 100%;
            background-color: var(--bright-gold);
            border-radius: 4px;
        }
        html[dir="rtl"] .contact-info h3::before, html[dir="rtl"] .booking-form-wrapper h3::before {
            right: 0;
            left: unset;
        }
        html[dir="ltr"] .contact-info h3::before, html[dir="ltr"] .booking-form-wrapper h3::before {
            left: 0;
            right: unset;
        }

        .contact-info p {
            margin-bottom: 25px;
            font-size: 1.25em;
            color: var(--dark-brown);
        }
        .contact-info p i {
            color: var(--bright-gold);
            font-size: 1.5em;
        }
        html[dir="rtl"] .contact-info p i {
            margin-left: 15px;
            margin-right: 0;
        }
        html[dir="ltr"] .contact-info p i {
            margin-right: 15px;
            margin-left: 0;
        }

        .contact-info .social-links {
            margin-top: 50px;
            display: flex;
            gap: 35px;
        }
        html[dir="rtl"] .contact-info .social-links {
            justify-content: flex-end;
        }
        html[dir="ltr"] .contact-info .social-links {
            justify-content: flex-start;
        }
        .contact-info .social-links a {
            color: var(--primary-dark-blue);
            font-size: 3.5em;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .contact-info .social-links a:hover {
            color: var(--bright-gold);
            transform: translateY(-12px) rotate(8deg);
        }

        /* Footer */
        footer {
            background-color: var(--primary-dark-blue);
            color: var(--off-white);
            padding: 70px 0;
            text-align: center;
        }
        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 60px;
            margin-bottom: 60px;
        }
        html[dir="rtl"] .footer-content {
            text-align: right;
        }
        html[dir="ltr"] .footer-content {
            text-align: left;
        }
        footer .footer-col {
            flex: 1;
            min-width: 320px;
            padding: 20px;
        }
        footer .footer-col h3 {
            color: var(--bright-gold);
            font-size: 2em;
            margin-bottom: 35px;
            position: relative;
        }
        html[dir="rtl"] footer .footer-col h3 {
            text-align: right;
            padding-right: 25px;
            padding-left: 0;
        }
        html[dir="ltr"] footer .footer-col h3 {
            text-align: left;
            padding-left: 25px;
            padding-right: 0;
        }
        footer .footer-col h3::before {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 100%;
            background-color: var(--off-white);
            border-radius: 3px;
        }
        html[dir="rtl"] footer .footer-col h3::before {
            right: 0;
            left: unset;
        }
        html[dir="ltr"] footer .footer-col h3::before {
            left: 0;
            right: unset;
        }

        footer .footer-col p, footer .footer-col ul {
            font-size: 1.1em;
            line-height: 2.1;
        }
        footer .footer-col ul {
            list-style: none;
        }
        footer .footer-col ul li {
            margin-bottom: 18px;
        }
        footer .footer-col ul li a {
            color: var(--off-white);
            text-decoration: none;
            transition: color var(--transition-speed) ease;
        }
        footer .footer-col ul li a:hover {
            color: var(--bright-gold);
        }
        footer .social-links {
            margin-top: 40px;
            display: flex;
            gap: 30px;
        }
        html[dir="rtl"] footer .social-links {
            justify-content: flex-end;
        }
        html[dir="ltr"] footer .social-links {
            justify-content: flex-start;
        }
        footer .social-links a {
            color: var(--off-white);
            font-size: 2.8em;
            transition: color var(--transition-speed) ease, transform var(--transition-speed) ease;
        }
        footer .social-links a:hover {
            color: var(--bright-gold);
            transform: translateY(-8px);
        }
        footer .copyright {
            margin-top: 60px;
            padding-top: 35px;
            border-top: 1px solid var(--bright-gold); 
            font-size: 1.05em;
        }

        /* WhatsApp Fixed Button */
        .whatsapp-button {
            position: fixed;
            bottom: 40px;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3.5em;
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
            z-index: 100;
            transition: transform 0.4s ease, background-color 0.4s ease, box-shadow 0.4s ease;
            text-decoration: none;
            animation: pulse 2s infinite;
        }
        html[dir="rtl"] .whatsapp-button {
            right: 40px;
            left: unset;
        }
        html[dir="ltr"] .whatsapp-button {
            left: 40px;
            right: unset;
        }
        .whatsapp-button:hover {
            transform: scale(1.15) rotate(5deg);
            background-color: #1DA851;
            box-shadow: 0 12px 35px rgba(0,0,0,0.5);
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { box-shadow: 0 0 0 25px rgba(37, 211, 102, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }

        /* Back to Top Button */
        #back-to-top {
            position: fixed;
            bottom: 40px;
            background-color: var(--bright-gold);
            color: var(--primary-dark-blue);
            border-radius: 50%;
            width: 65px;
            height: 65px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.2em;
            box-shadow: 0 6px 25px rgba(0,0,0,0.3);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease, transform var(--transition-speed) ease;
        }
        html[dir="rtl"] #back-to-top {
            left: 40px;
            right: unset;
        }
        html[dir="ltr"] #back-to-top {
            right: 40px;
            left: unset;
        }
        #back-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(-10px);
        }
        #back-to-top:hover {
            background-color: #B8860B;
            transform: translateY(-15px) scale(1.08);
        }

        /* Custom Modal for Booking Confirmation (kept for newsletter, removed for booking form) */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--off-white);
            margin: auto;
            padding: 40px;
            border-radius: var(--border-radius-main);
            box-shadow: 0 15px 40px var(--shadow-strong);
            width: 90%;
            max-width: 500px;
            text-align: center;
            position: relative;
            transform: translateY(-50px);
            opacity: 0;
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
        }

        .modal.show .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-content h3 {
            color: var(--primary-dark-blue);
            font-size: 2.2em;
            margin-bottom: 25px;
        }

        .modal-content p {
            font-size: 1.1em;
            color: var(--dark-brown);
            margin-bottom: 30px;
            line-height: 1.7;
        }

        .modal-content .close-button {
            background-color: var(--bright-gold);
            color: var(--primary-dark-blue);
            padding: 12px 30px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-content .close-button:hover {
            background-color: var(--primary-dark-blue);
            color: var(--off-white);
        }

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .hero h1 { font-size: 3.2em; }
            .hero p { font-size: 1.6em; }
            h2 { font-size: 2.8em; }
            .faq-question { padding: 20px 30px; font-size: 1.2em; }
            .faq-answer { padding: 0 30px 20px 30px; }
        }
        @media (max-width: 768px) {
            nav { padding: 18px 20px; flex-wrap: wrap; }
            .logo { font-size: 1.8em; }
            .logo img { height: 80px; width: auto; }
            .nav-links { display: none; flex-direction: column; width: 100%; text-align: center; background: rgba(255, 255, 255, 0.98); position: absolute; top: 86px; left: 0; padding: 25px 0; box-shadow: 0 6px 20px var(--shadow-subtle); z-index: 999; }
            .nav-links.active { display: flex; }
            .nav-links li { margin: 15px 0; }
            .menu-toggle { display: flex; }
            .language-switcher { order: -1; width: 100%; text-align: center; margin-bottom: 15px; padding: 10px 0; background-color: var(--warm-sandy-beige); border-radius: var(--border-radius-main); box-shadow: 0 2px 5px var(--shadow-subtle); }
            .language-switcher .dropdown-content { position: static; box-shadow: none; background-color: transparent; min-width: unset; }
            .language-switcher .dropdown-content a { padding: 8px 16px; font-size: 1em; }
            .language-switcher .fas.fa-chevron-down { font-size: 0.7em; }
            .hero h1 { font-size: 2.5em; }
            .hero p { font-size: 1.3em; }
            .hero .btn { padding: 18px 38px; font-size: 1.3em; }
            section { padding: 80px 0; }
            h2 { font-size: 2.5em; margin-bottom: 50px; }
            h2::after { width: 80px; height: 4px; }
            .section-header.animate h2::after { width: 120px; }
            .about-content { flex-direction: column; text-align: center; gap: 50px; }
            .about-image { max-width: 320px; }
            .about-text { text-align: center; font-size: 1.15em; }
            .about-text h3 { text-align: center; padding-left: 0; padding-right: 0; font-size: 2.2em; }
            .about-text h3::before { display: none; }
            .ijaza-card h3, .ijaza-card ul, .ijaza-card p { text-align: center; }
            .ijaza-card ul { padding-left: 0; padding-right: 0; }
            .ijaza-card ul li { padding-left: 0; padding-right: 0; }
            .ijaza-card ul li::before { position: static; margin-right: 8px; margin-left: 0; }
            .course-card .icon, .why-us-item .icon, .package-card .icon { font-size: 4em; }
            .course-card h3, .why-us-item h3, .package-card h3 { font-size: 2em; }
            .package-card .package-details .price-large { font-size: 2em; }
            .contact-content { flex-direction: column; gap: 50px; }
            .contact-info, .booking-form-wrapper { min-width: unset; width: 100%; padding: 40px; }
            .contact-info h3, .booking-form-wrapper h3 { text-align: center; padding-left: 0; padding-right: 0; font-size: 2.2em; }
            .contact-info h3::before, .booking-form-wrapper h3::before { display: none; }
            .contact-info .social-links, footer .social-links { justify-content: center; }
            footer { padding: 50px 0; }
            footer .footer-content { flex-direction: column; gap: 40px; }
            footer .footer-col h3 { font-size: 1.8em; text-align: center; padding-left: 0; padding-right: 0; }
            footer .footer-col h3::before { display: none; }
            footer .footer-col p, footer .footer-col ul { font-size: 1em; }
            .whatsapp-button { width: 65px; height: 65px; font-size: 3em; bottom: 30px; right: 30px; }
            #back-to-top { width: 55px; height: 55px; font-size: 2em; bottom: 30px; left: 30px; }
        }
        @media (max-width: 480px) {
            .hero h1 { font-size: 1.8em; margin-bottom: 20px; }
            .hero p { font-size: 0.9em; margin-bottom: 40px; }
            .hero .btn { padding: 12px 25px; font-size: 1em; }
            section { padding: 60px 0; }
            .container { padding: 0 15px; }
            h2 { font-size: 2em; margin-bottom: 40px; }
            .ijazat-grid, .courses-grid, .why-us-grid, .packages-grid { grid-template-columns: 1fr; gap: 30px; }
            .ijaza-card, .course-card, .why-us-item, .package-card, .faq-item, .contact-info, .booking-form-wrapper { padding: 30px; }
            .ijaza-card h3, .course-card h3, .why-us-item h3, .package-card h3, .contact-info h3, .booking-form-wrapper h3 { font-size: 1.8em; margin-bottom: 20px; }
            .ijaza-card p, .course-card p, .why-us-item p, .package-card p, .faq-answer p, .contact-info p { font-size: 0.95em; }
            .ijaza-card ul li, .package-card .package-details .price-options li { font-size: 1em; }
            .newsletter-form { flex-direction: column; gap: 15px; }
            .newsletter-form input[type="email"], .newsletter-form button { width: 100%; }
            .faq-question { font-size: 1.1em; padding: 18px 25px; }
            .faq-answer { padding: 0 25px 15px 25px; }
            footer .footer-col { min-width: unset; padding: 10px; }
            footer .footer-col h3 { font-size: 1.6em; }
            footer .footer-col p, footer .footer-col ul { font-size: 0.9em; }
            .whatsapp-button { width: 60px; height: 60px; font-size: 2.8em; bottom: 20px; right: 20px; }
            #back-to-top { width: 50px; height: 50px; font-size: 1.8em; bottom: 20px; left: 20px; }
        }
    </style>
</head>
<body>

    <header>
        <nav class="container">
            <a href="#hero" class="logo">
                <img src="https://live.staticflickr.com/65535/54548816811_e6b9238718.jpg" data-key="logo-alt" alt="شعار الشيخ عبد الرحمن حماده خليل" onerror="this.onerror=null; this.src='https://placehold.co/100x100/1A3E63/D4AF37?text=Shaykh+Abdelrahman'; console.error('Failed to load logo image from Flickr.');">
            </a>
            <ul class="nav-links">
                <li><a href="#hero" data-key="nav-home">الرئيسية</a></li>
                <li><a href="#about" data-key="nav-about">عن الشيخ</a></li>
                <li><a href="#ijazat" data-key="nav-ijazat">الإجازات والمؤهلات</a></li>
                <li><a href="#packages" data-key="nav-packages">باقاتنا</a></li> <li><a href="#why-us" data-key="nav-why-us">لماذا تختارنا؟</a></li>
                <li><a href="#faq" data-key="nav-faq">الأسئلة الشائعة</a></li>
                <li><a href="#contact" data-key="nav-contact">تواصل معنا</a></li>
            </ul>
            <div class="language-switcher">
                <span data-key="current-lang-display">العربية</span> <i class="fas fa-chevron-down"></i>
                <div class="dropdown-content">
                    <a href="#" data-lang="ar">العربية</a>
                    <a href="#" data-lang="en">English</a>
                </div>
            </div>
            <div class="menu-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="hero">
            <div class="container">
                <h1 data-key="hero-h1">تعلم تلاوة القرءان الكريم بالتجويد واحصل على إجازة بالسند المتصل</h1>
                <p data-key="hero-p">انطلق في رحلتك القرآنية معنا. نُقدم لك تعليماً مُيسراً، تجربة فريدة في تعلم كتاب الله.</p>
                <a href="#contact" class="btn" data-key="hero-btn">ابدأ رحلتك القرآنية الآن</a>
            </div>
        </section>

        <section id="about" class="about">
            <div class="container section-header fade-in">
                <h2 data-key="about-h2">عن الشيخ عبد الرحمن حماده خليل</h2>
            </div>
            <div class="container about-content fade-in">
                <div class="about-image scale-in">
                    <img src="https://placehold.co/550x350/2C2018/F8F4ED?text=Shaykh+Abdelrahman" data-key="about-img-alt" alt="صورة الشيخ عبد الرحمن حماده خليل">
                </div>
                <div class="about-text fade-in">
                    <h3 data-key="about-h3">نبذة عن مسيرتي في خدمة القرآن</h3>
                    <p data-key="about-p1">الحمد لله رب العالمين، والصلاة والسلام على خاتم الأنبياء والمرسلين. أنا الشيخ عبد الرحمن حماده خليل، طالب بكلية اللغات والترجمة بقسم الأدب الصيني بجامعة الأزهر، ومعلم ومجاز في القرآن الكريم. لقد كرست حياتي لخدمة كتاب الله العزيز، وتلقيت العلم من شيوخ أجلاء وحصلت على الإجازات الشرعية التي تؤهلني لتعليم وإقراء كتاب الله بسندٍ متصل إلى نبينا الكريم محمد صلى الله عليه وسلم.</p>
                    <p data-key="about-p2">أؤمن بأن تعلم القرآن هو رحلة نور وسكينة، وأن كل طالب يستحق أن يتلقى العلم بأفضل الطرق وأيسرها. لهذا، أقدم لكم عبر هذه المنصة منهجي التعليمي الذي يجمع بين أصالة التلقي ومتطلبات التعليم الحديث عن بُعد، لكي تتمكنوا من إتقان التلاوة، وتجويد الحروف، وتحقيق الإجازة، وأن تكونوا من أهل القرآن الذين هم أهل الله وخاصته. لدي خبرة كمعلم قرآن أونلاين في أكاديمية رفرف (يوليو 2024 - الوقت الحاضر) ومعلم قرآن أونلاين (عمل حر) منذ يوليو 2021، ومعلم قرآن أوفلاين (عمل حر) منذ نوفمبر 2024.</p>
                    <p data-key="about-p3">أسأل الله تعالى أن يتقبل منا ومنكم صالح الأعمال، وأن يجعلنا جميعاً خداماً لكتابه الكريم.</p>
                </div>
            </div>
        </section>

        <section id="ijazat" class="ijazat">
            <div class="container section-header fade-in">
                <h2 data-key="ijazat-h2">الإجازات والمؤهلات</h2>
            </div>
            <div class="container ijazat-grid fade-in">
                <div class="ijaza-card scale-in">
                    <h3 data-key="ijaza-card1-h3">الإجازات القرآنية</h3>
                    <p data-key="ijaza-card1-p">أتشرف بحمل عدة إجازات قرآنية بالسند المتصل إلى رسول الله صلى الله عليه وسلم، مما يضمن دقة وصحة التلاوة التي سأنقلها إليكم.</p>
                    <ul>
                        <li data-key="ijaza-card1-li1"><i class="fas fa-check-circle"></i> إجازة برواية حفص عن عاصم من طريق الشاطبية (من فضيلة الشيخ عزب محمود).</li>
                        <li data-key="ijaza-card1-li2"><i class="fas fa-check-circle"></i> إجازة بقراءة الإمام عاصم بروايتي حفص وشعبة من طريق الشاطبية (من فضيلة الشيخة حنان محمد عبد العزيز).</li>
                        <li data-key="ijaza-card1-li3"><i class="fas fa-check-circle"></i> إجازة بقراءة الإمام حمزة بروايتي خلف وخلاد من طريق الشاطبية (من فضيلة الشيخ هاني منصور الشرقاوي).</li>
                        <li data-key="ijaza-card1-li4"><i class="fas fa-check-circle"></i> تلقي القرآن عن شيوخ أجلاء مشهود لهم بالعلم والفضل.</li>
                    </ul>
                </div>
                <div class="ijaza-card scale-in" style="transition-delay: 0.2s;">
                    <h3 data-key="ijaza-card2-h3">المؤهلات التعليمية والخبرات</h3>
                    <p data-key="ijaza-card2-p">إلى جانب الإجازات القرآنية، أمتلك مؤهلات تعليمية وخبرة عملية واسعة في تدريس القرآن الكريم وعلومه.</p>
                    <ul>
                        <li data-key="ijaza-card2-li1"><i class="fas fa-check-circle"></i> طالب بكلية اللغات والترجمة، قسم الأدب الصيني، جامعة الأزهر.</li>
                        <li data-key="ijaza-card2-li2"><i class="fas fa-check-circle"></i> خبرة كمعلم قرآن أونلاين (أكاديمية رفرف وعمل حر) ومعلم قرآن أوفلاين.</li>
                        <li data-key="ijaza-card2-li3"><i class="fas fa-check-circle"></i> منهجية تعليمية مرنة ومخصصة تناسب احتياجات كل طالب.</li>
                        <li data-key="ijaza-card2-li4"><i class="fas fa-check-circle"></i> مهارات تواصل ممتازة لضمان بيئة تعليمية محفزة.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="packages" class="packages">
            <div class="container section-header fade-in">
                <h2 data-key="packages-h2">باقاتنا التعليمية</h2>
            </div>
            <div class="container packages-grid fade-in">
                <div class="package-card scale-in">
                    <i class="fas fa-users icon"></i>
                    <h3 data-key="package1-h3">الباقة الجماعية للأطفال</h3>
                    <p data-key="package1-desc">دروس جماعية ممتعة ومحفزة للأطفال (5 طلاب)، ساعة كاملة للحصة.</p>
                    <div class="package-details">
                        <div class="package-options">
                            <label for="group-kids-frequency" data-key="select-frequency-label">عدد الحصص أسبوعياً:</label>
                            <select id="group-kids-frequency" onchange="calculatePackagePrice('group-kids')">
                                <option value="1" data-key="frequency-1" selected>1 يوم</option>
                                <option value="2" data-key="frequency-2">2 أيام</option>
                                <option value="3" data-key="frequency-3">3 أيام</option>
                                <option value="4" data-key="frequency-4">4 أيام</option>
                                <option value="5" data-key="frequency-5">5 أيام</option>
                                <option value="6" data-key="frequency-6">6 أيام</option>
                            </select>
                        </div>
                        <p class="package-total-price">
                            <span data-key="total-monthly-price-label">الإجمالي الشهري:</span> 
                            <span id="group-kids-total-price">0</span> ج.م
                        </p>
                        <p data-key="package1-availability">متاحة كل يوم ما عدا الجمعة.</p>
                    </div>
                    <a href="#contact" class="btn" data-key="package-btn">احجز الآن</a>
                </div>

                <div class="package-card scale-in" style="transition-delay: 0.1s;">
                    <i class="fas fa-user-friends icon"></i>
                    <h3 data-key="package2-h3">الباقة الجماعية للبالغين</h3>
                    <p data-key="package2-desc">دروس جماعية مركزة للبالغين (3 طلاب)، ساعة كاملة للحصة.</p>
                    <div class="package-details">
                        <div class="package-options">
                            <label for="group-adults-frequency" data-key="select-frequency-label">عدد الحصص أسبوعياً:</label>
                            <select id="group-adults-frequency" onchange="calculatePackagePrice('group-adults')">
                                <option value="1" data-key="frequency-1" selected>1 يوم</option>
                                <option value="2" data-key="frequency-2">2 أيام</option>
                                <option value="3" data-key="frequency-3">3 أيام</option>
                                <option value="4" data-key="frequency-4">4 أيام</option>
                                <option value="5" data-key="frequency-5">5 أيام</option>
                                <option value="6" data-key="frequency-6">6 أيام</option>
                            </select>
                        </div>
                        <p class="package-total-price">
                            <span data-key="total-monthly-price-label">الإجمالي الشهري:</span> 
                            <span id="group-adults-total-price">0</span> ج.م
                        </p>
                        <p data-key="package2-availability"></p> 
                    </div>
                    <a href="#contact" class="btn" data-key="package-btn">احجز الآن</a>
                </div>

                <div class="package-card scale-in" style="transition-delay: 0.2s;">
                    <i class="fas fa-child-reaching icon"></i> 
                    <h3 data-key="package3-h3">الباقة الفردية للأطفال</h3>
                    <p data-key="package3-desc">اهتمام شخصي وتركيز كامل على طفلك.</p>
                    <div class="package-details">
                        <div class="package-options">
                            <label for="kids-duration" data-key="select-duration-label">مدة الحصة:</label>
                            <select id="kids-duration" onchange="calculatePackagePrice('kids')">
                                <option value="20" data-key="duration-20min" selected>20 دقيقة</option>
                                <option value="30" data-key="duration-30min">30 دقيقة</option>
                                <option value="40" data-key="duration-40min">40 دقيقة</option>
                                <option value="60" data-key="duration-60min">60 دقيقة</option>
                            </select>
                            <label for="kids-frequency" data-key="select-frequency-label">عدد الحصص أسبوعياً:</label>
                            <select id="kids-frequency" onchange="calculatePackagePrice('kids')">
                                <option value="1" data-key="frequency-1" selected>1 يوم</option>
                                <option value="2" data-key="frequency-2">2 أيام</option>
                                <option value="3" data-key="frequency-3">3 أيام</option>
                                <option value="4" data-key="frequency-4">4 أيام</option>
                                <option value="5" data-key="frequency-5">5 أيام</option>
                                <option value="6" data-key="frequency-6">6 أيام</option>
                            </select>
                        </div>
                        <p class="package-total-price">
                            <span data-key="total-monthly-price-label">الإجمالي الشهري:</span> 
                            <span id="kids-total-price">0</span> ج.م
                        </p>
                        <ul class="package-features-list">
                            <li data-key="feature-flexibility"><i class="fas fa-check-circle"></i> مرونة في تحديد المواعيد</li>
                            <li data-key="feature-postpone-cancel"><i class="fas fa-check-circle"></i> إمكانية تأجيل أو إلغاء الحلقة</li>
                            <li data-key="feature-custom-plan"><i class="fas fa-check-circle"></i> خطة مخصصة حسب ما يرغب به الطالب</li>
                        </ul>
                    </div>
                    <a href="#contact" class="btn" data-key="package-btn">احجز الآن</a>
                </div>

                <div class="package-card scale-in" style="transition-delay: 0.3s;">
                    <i class="fas fa-user icon"></i>
                    <h3 data-key="package4-h3">الباقة الفردية للبالغين</h3>
                    <p data-key="package4-desc">تطوير مستواك القرآني بتركيز كامل ودعم شخصي.</p>
                    <div class="package-details">
                        <div class="package-options">
                            <label for="adults-duration" data-key="select-duration-label">مدة الحصة:</label>
                            <select id="adults-duration" onchange="calculatePackagePrice('adults')">
                                <option value="20" data-key="duration-20min" selected>20 دقيقة</option>
                                <option value="30" data-key="duration-30min">30 دقيقة</option>
                                <option value="40" data-key="duration-40min">40 دقيقة</option>
                                <option value="60" data-key="duration-60min">60 دقيقة</option>
                            </select>
                            <label for="adults-frequency" data-key="select-frequency-label">عدد الحصص أسبوعياً:</label>
                            <select id="adults-frequency" onchange="calculatePackagePrice('adults')">
                                <option value="1" data-key="frequency-1" selected>1 يوم</option>
                                <option value="2" data-key="frequency-2">2 أيام</option>
                                <option value="3" data-key="frequency-3">3 أيام</option>
                                <option value="4" data-key="frequency-4">4 أيام</option>
                                <option value="5" data-key="frequency-5">5 أيام</option>
                                <option value="6" data-key="frequency-6">6 أيام</option>
                            </select>
                        </div>
                        <p class="package-total-price">
                            <span data-key="total-monthly-price-label">الإجمالي الشهري:</span> 
                            <span id="adults-total-price">0</span> ج.م
                        </p>
                        <ul class="package-features-list">
                            <li data-key="feature-flexibility"><i class="fas fa-check-circle"></i> مرونة في تحديد المواعيد</li>
                            <li data-key="feature-postpone-cancel"><i class="fas fa-check-circle"></i> إمكانية تأجيل أو إلغاء الحلقة</li>
                            <li data-key="feature-custom-plan"><i class="fas fa-check-circle"></i> خطة مخصصة حسب ما يرغب به الطالب</li>
                        </ul>
                    </div>
                    <a href="#contact" class="btn" data-key="package-btn">احجز الآن</a>
                </div>

                <div class="package-card scale-in" style="transition-delay: 0.4s;">
                    <i class="fas fa-scroll icon"></i>
                    <h3 data-key="package5-h3">باقة الإجازة بالسند</h3>
                    <p data-key="package5-desc">مسار مخصص لإتقان القرآن والحصول على الإجازة بالسند المتصل برواية حفص أو بقراءة عاصم.</p>
                    <div class="package-details">
                        <div class="package-options">
                            <label for="ijazah-duration" data-key="select-duration-label">مدة الحصة:</label>
                            <select id="ijazah-duration" onchange="calculatePackagePrice('ijazah')">
                                <option value="20" data-key="duration-20min" selected>20 دقيقة</option>
                                <option value="30" data-key="duration-30min">30 دقيقة</option>
                                <option value="45" data-key="duration-45min">45 دقيقة</option> 
                                <option value="60" data-key="duration-60min">60 دقيقة</option>
                            </select>
                            <label for="ijazah-frequency" data-key="select-frequency-label">عدد الحصص أسبوعياً:</label>
                            <select id="ijazah-frequency" onchange="calculatePackagePrice('ijazah')">
                                <option value="1" data-key="frequency-1" selected>1 يوم</option>
                                <option value="2" data-key="frequency-2">2 أيام</option>
                                <option value="3" data-key="frequency-3">3 أيام</option>
                                <option value="4" data-key="frequency-4">4 أيام</option>
                                <option value="5" data-key="frequency-5">5 أيام</option>
                                <option value="6" data-key="frequency-6">6 أيام</option>
                            </select>
                        </div>
                        <p class="package-total-price">
                            <span data-key="total-monthly-price-label">الإجمالي الشهري:</span> 
                            <span id="ijazah-total-price">0</span> ج.م
                        </p>
                        <ul class="package-features-list">
                            <li data-key="feature-flexibility"><i class="fas fa-check-circle"></i> مرونة في تحديد المواعيد</li>
                            <li data-key="feature-postpone-cancel"><i class="fas fa-check-circle"></i> إمكانية تأجيل أو إلغاء الحلقة</li>
                            <li data-key="feature-custom-plan"><i class="fas fa-check-circle"></i> خطة مخصصة حسب ما يرغب به الطالب</li>
                            <li data-key="feature-ijazah-free"><i class="fas fa-check-circle"></i> الإجازة مجانية</li>
                        </ul>
                    </div>
                    <a href="#contact" class="btn" data-key="package-btn">استفسر الآن</a>
                </div>
            </div>
        </section>

        <section id="why-us" class="why-us">
            <div class="container section-header fade-in">
                <h2 data-key="why-us-h2">لماذا تختارنا لرحلتك القرآنية؟</h2>
            </div>
            <div class="container why-us-grid fade-in">
                <div class="why-us-item scale-in">
                    <i class="fas fa-handshake icon"></i>
                    <h3 data-key="why-us-item1-h3">سند موثوق وعالٍ</h3>
                    <p data-key="why-us-item1-p">تلقي القرآن بسندٍ متصل إلى رسول الله صلى الله عليه وسلم، يضمن لك أصالة التلقي ودقة الأداء.</p>
                </div>
                <div class="why-us-item scale-in" style="transition-delay: 0.1s;">
                    <i class="fas fa-laptop-code icon"></i>
                    <h3 data-key="why-us-item2-h3">مرونة التعليم عن بُعد</h3>
                    <p data-key="why-us-item2-p">تعلم القرآن من أي مكان في العالم، وفي الأوقات التي تناسب جدولك اليومي.</p>
                </div>
                <div class="why-us-item scale-in" style="transition-delay: 0.2s;">
                    <i class="fas fa-star icon"></i>
                    <h3 data-key="why-us-item3-h3">منهجية تعليمية متطورة</h3>
                    <p data-key="why-us-item3-p">نستخدم أساليب تعليمية حديثة ومبتكرة لضمان فهم عميق وإتقان سريع.</p>
                </div>
                <div class="why-us-item scale-in" style="transition-delay: 0.3s;">
                    <i class="fas fa-compass icon"></i>
                    <h3 data-key="why-us-item4-h3">إرشاد ودعم مستمر</h3>
                    <p data-key="why-us-item4-p">نحن معك في كل خطوة من رحلتك القرآنية، نقدم الإرشاد والمتابعة لضمان نجاحك.</p>
                </div>
            </div>
        </section>

        <section id="newsletter" class="newsletter-section">
            <div class="container section-header fade-in">
                <h2 data-key="newsletter-h2">اشترك في نشرتنا البريدية</h2>
            </div>
            <div class="container fade-in">
                <p data-key="newsletter-p">ابق على اطلاع بآخر أخبارنا، الدورات الجديدة، والمقالات القرآنية المفيدة مباشرة في بريدك الوارد.</p>
                <form class="newsletter-form" id="newsletterForm">
                    <input type="email" id="newsletterEmail" data-key="newsletter-email-placeholder" placeholder="أدخل بريدك الإلكتروني" required>
                    <button type="submit" data-key="newsletter-subscribe-btn">اشترك الآن</button>
                </form>
            </div>
        </section>

        <section id="faq" class="faq">
            <div class="container section-header fade-in">
                <h2 data-key="faq-h2">الأسئلة الشائعة</h2>
            </div>
            <div class="container faq-accordion fade-in">
                <div class="faq-item scale-in">
                    <div class="faq-question">
                        <span data-key="faq-q0">ما هي الإجازة؟</span>
                        <i class="fas fa-chevron-down icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p data-key="faq-a0">هي رخصة وشهادة من شيخ مجاز له سند متصل بالنبي صلى الله عليه وسلم، وهي شهادة من الشيخ أنك قرأت القرآن الكريم كاملاً بأحكام التجويد والتلاوة الصحيحة غيباً عن ظهر قلب، ورخصة قراءة وإقراء، أي أن تعلم من بعدك من طلبة العلم.</p>
                    </div>
                </div>
                <div class="faq-item scale-in" style="transition-delay: 0.1s;">
                    <div class="faq-question">
                        <span data-key="faq-q1">ما هي شروط الحصول على الإجازة؟</span>
                        <i class="fas fa-chevron-down icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p data-key="faq-a1">الشرط الأساسي عند كل المشايخ والمقرئين هو قراءة القرآن الكريم كاملاً قراءة صحيحة بأحكام التجويد غيباً عن ظهر قلب. وقد يزيد كل شيخ من الشروط حسب طريقته وأسلوبه كأن يكون هناك اختبار بعد إنهاء الختمة مثلاً.</p>
                    </div>
                </div>
                <div class="faq-item scale-in" style="transition-delay: 0.2s;">
                    <div class="faq-question">
                        <span data-key="faq-q2">هل الدروس متاحة للمبتدئين؟</span>
                        <i class="fas fa-chevron-down icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p data-key="faq-a2">نعم، إذا كنت تجيد قراءة اللغة العربية فيمكنك البدء معنا من الصفر لتعلم تلاوة القرآن الكريم وتجويده وحتى الحصول على إجازة بالسند المتصل إلى رسول الله صلى الله عليه وسلم.</p>
                    </div>
                </div>
                <div class="faq-item scale-in" style="transition-delay: 0.3s;">
                    <div class="faq-question">
                        <span data-key="faq-q3">ما هي المنصات المستخدمة للتعليم عن بُعد؟</span>
                        <i class="fas fa-chevron-down icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p data-key="faq-a3">نستخدم منصات تعليمية مرنة وموثوقة مثل Zoom أو Google Meet، مما يتيح تجربة تعليمية تفاعلية ومريحة من أي مكان في العالم.</p>
                    </div>
                </div>
                <div class="faq-item scale-in" style="transition-delay: 0.4s;">
                    <div class="faq-question">
                        <span data-key="faq-q4">كيف يمكنني حجز جلسة تجريبية مجانية؟</span>
                        <i class="fas fa-chevron-down icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p data-key="faq-a4">يمكنك حجز جلسة تجريبية مجانية مباشرة من خلال هذه الصفحة، أو يمكنك التواصل معنا وحجز جلستك التجريبية من خلال واتساب.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <div class="container section-header fade-in">
                <h2 data-key="contact-h2">تواصل معنا واحجز جلستك المجانية</h2>
            </div>
            <div class="container contact-content fade-in">
                <div class="contact-info scale-in">
                    <h3 data-key="contact-info-h3">معلومات التواصل</h3>
                    <p data-key="contact-info-email"><i class="fas fa-envelope"></i> البريد الإلكتروني: abdelrahmanhamada3342@gmail.com</p>
                    <p data-key="contact-info-whatsapp"><i class="fab fa-whatsapp"></i> واتساب: +201001947998</p>
                    <p data-key="contact-info-location"><i class="fas fa-map-marker-alt"></i> الموقع: العاشر من رمضان، الشرقية، مصر (خدمة عالمية)</p>
                    <p data-key="contact-info-p-general">لا تتردد في الاتصال بنا. نحن هنا لخدمتك والإجابة على استفساراتك.</p>
                    <div class="social-links">
                        <a href="https://facebook.com/shaykh.abdelrahman" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/shaykh.abdelrahman" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/shaykh.abdelrahman" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://tiktok.com/@shaykh.abdelrahman" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="booking-form-wrapper scale-in" style="transition-delay: 0.2s;">
                    <h3 data-key="booking-form-h3">احجز جلستك التجريبية المجانية</h3>
                    <div class="calendly-inline-widget" data-url="https://calendly.com/abdelrahmanhamada3342/30min?hide_event_type_details=1&hide_gdpr_banner=1&text_color=132982&primary_color=184f9d" style="min-width:320px;height:700px;"></div>
                    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
                    </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3 data-key="footer-col1-h3">عن الشيخ</h3>
                    <p data-key="footer-col1-p">الشيخ عبد الرحمن حماده خليل، معلم ومجاز في القرآن الكريم بسند متصل، ملتزم بنشر علم كتاب الله وتقديم تعليم قرآني متميز للعالم أجمع.</p>
                </div>
                <div class="footer-col">
                    <h3 data-key="footer-col2-h3">روابط سريعة</h3>
                    <ul>
                        <li><a href="#hero" data-key="nav-home-footer">الرئيسية</a></li>
                        <li><a href="#about" data-key="nav-about-footer">عن الشيخ</a></li>
                        <li><a href="#ijazat" data-key="nav-ijazat-footer">الإجازات</a></li>
                        <li><a href="#packages" data-key="nav-packages-footer">باقاتنا</a></li> <li><a href="#faq-footer" data-key="nav-faq-footer">الأسئلة الشائعة</a></li>
                        <li><a href="#contact" data-key="nav-contact-footer">تواصل معنا</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3 data-key="footer-col3-h3">ابق على تواصل</h3>
                    <p data-key="footer-col3-email"><i class="fas fa-envelope"></i> abdelrahmanhamada3342@gmail.com</p>
                    <p data-key="footer-col3-whatsapp"><i class="fab fa-whatsapp"></i> +201001947998</p>
                    <div class="social-links">
                        <a href="https://facebook.com/shaykh.abdelrahman" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/shaykh.abdelrahman" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/shaykh.abdelrahman" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://tiktok.com/@shaykh.abdelrahman" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright" data-key="copyright">
                © <span id="current-year"></span> الشيخ عبد الرحمن حماده خليل. جميع الحقوق محفوظة.
            </div>
        </div>
    </footer>

    <a href="https://wa.me/201001947998" class="whatsapp-button" target="_blank" aria-label="WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <a href="#hero" id="back-to-top" aria-label="Back to Top">
        <i class="fas fa-arrow-up"></i>
    </a>

    <div id="successModal" class="modal">
        <div class="modal-content">
            <h3 data-key="modal-h3">تم إرسال طلبك بنجاح!</h3>
            <p data-key="modal-p">شكراً لك! لقد تم استلام طلبك. سنتواصل معك قريباً جداً.</p>
            <button class="close-button" id="closeModal" data-key="modal-close-btn">حسناً</button>
        </div>
    </div>

    <script>
        // Translations object
        const translations = {
            'ar': {
                'page-title': 'موقع الشيخ عبدالرحمن حماده خليل',
                'logo-alt': 'شعار الشيخ عبد الرحمن حماده خليل',
                'nav-home': 'الرئيسية',
                'nav-about': 'عن الشيخ',
                'nav-ijazat': 'الإجازات والمؤهلات',
                'nav-packages': 'باقاتنا',
                'nav-why-us': 'لماذا تختارنا؟',
                'nav-faq': 'الأسئلة الشائعة',
                'nav-contact': 'تواصل معنا',
                'current-lang-display': 'العربية',
                'hero-h1': 'تعلم تلاوة القرءان الكريم بالتجويد واحصل على إجازة بالسند المتصل',
                'hero-p': 'انطلق في رحلتك القرآنية معنا. نُقدم لك تعليماً مُيسراً، تجربة فريدة في تعلم كتاب الله.',
                'hero-btn': 'ابدأ رحلتك القرآنية الآن',
                'about-h2': 'عن الشيخ عبد الرحمن حماده خليل',
                'about-img-alt': 'صورة الشيخ عبد الرحمن حماده خليل',
                'about-h3': 'نبذة عن مسيرتي في خدمة القرآن',
                'about-p1': 'الحمد لله رب العالمين، والصلاة والسلام على خاتم الأنبياء والمرسلين. أنا الشيخ عبد الرحمن حماده خليل، طالب بكلية اللغات والترجمة بقسم الأدب الصيني بجامعة الأزهر، ومعلم ومجاز في القرآن الكريم. لقد كرست حياتي لخدمة كتاب الله العزيز، وتلقيت العلم من شيوخ أجلاء وحصلت على الإجازات الشرعية التي تؤهلني لتعليم وإقراء كتاب الله بسندٍ متصل إلى نبينا الكريم محمد صلى الله عليه وسلم.',
                'about-p2': 'أؤمن بأن تعلم القرآن هو رحلة نور وسكينة، وأن كل طالب يستحق أن يتلقى العلم بأفضل الطرق وأيسرها. لهذا، أقدم لكم عبر هذه المنصة منهجي التعليمي الذي يجمع بين أصالة التلقي ومتطلبات التعليم الحديث عن بُعد، لكي تتمكنوا من إتقان التلاوة، وتجويد الحروف، وتحقيق الإجازة، وأن تكونوا من أهل القرآن الذين هم أهل الله وخاصته. لدي خبرة كمعلم قرآن أونلاين في أكاديمية رفرف (يوليو 2024 - الوقت الحاضر) ومعلم قرآن أونلاين (عمل حر) منذ يوليو 2021، ومعلم قرآن أوفلاين (عمل حر) منذ نوفمبر 2024.',
                'about-p3': 'أسأل الله تعالى أن يتقبل منا ومنكم صالح الأعمال، وأن يجعلنا جميعاً خداماً لكتابه الكريم.',
                'ijazat-h2': 'الإجازات والمؤهلات',
                'ijaza-card1-h3': 'الإجازات القرآنية',
                'ijaza-card1-p': 'أتشرف بحمل عدة إجازات قرآنية بالسند المتصل إلى رسول الله صلى الله عليه وسلم، مما يضمن دقة وصحة التلاوة التي سأنقلها إليكم.',
                'ijaza-card1-li1': 'إجازة برواية حفص عن عاصم من طريق الشاطبية (من فضيلة الشيخ عزب محمود).',
                'ijaza-card1-li2': 'إجازة بقراءة الإمام عاصم بروايتي حفص وشعبة من طريق الشاطبية (من فضيلة الشيخة حنان محمد عبد العزيز).',
                'ijaza-card1-li3': 'إجازة بقراءة الإمام حمزة بروايتي خلف وخلاد من طريق الشاطبية (من فضيلة الشيخ هاني منصور الشرقاوي).',
                'ijaza-card1-li4': 'تلقي القرآن عن شيوخ أجلاء مشهود لهم بالعلم والفضل.',
                'ijaza-card2-h3': 'المؤهلات التعليمية والخبرات',
                'ijaza-card2-p': 'إلى جانب الإجازات القرآنية، أمتلك مؤهلات تعليمية وخبرة عملية واسعة في تدريس القرآن الكريم وعلومه.',
                'ijaza-card2-li1': 'طالب بكلية اللغات والترجمة، قسم الأدب الصيني، جامعة الأزهر.',
                'ijaza-card2-li2': 'خبرة كمعلم قرآن أونلاين (أكاديمية رفرف وعمل حر) ومعلم قرآن أوفلاين.',
                'ijaza-card2-li3': 'منهجية تعليمية مرنة ومخصصة تناسب احتياجات كل طالب.',
                'ijaza-card2-li4': 'مهارات تواصل ممتازة لضمان بيئة تعليمية محفزة.',
                'packages-h2': 'باقاتنا التعليمية',
                'package1-h3': 'الباقة الجماعية للأطفال',
                'package1-desc': 'دروس جماعية ممتعة ومحفزة للأطفال (5 طلاب)، ساعة كاملة للحصة.',
                'package1-availability': 'متاحة كل يوم ما عدا الجمعة.',
                'package2-h3': 'الباقة الجماعية للبالغين',
                'package2-desc': 'دروس جماعية مركزة للبالغين (3 طلاب)، ساعة كاملة للحصة.',
                'package2-availability': '', 
                'package3-h3': 'الباقة الفردية للأطفال',
                'package3-desc': 'اهتمام شخصي وتركيز كامل على طفلك.',
                'select-duration-label': 'مدة الحصة:',
                'duration-20min': '20 دقيقة',
                'duration-30min': '30 دقيقة',
                'duration-40min': '40 دقيقة',
                'duration-45min': '45 دقيقة',
                'duration-60min': '60 دقيقة',
                'select-frequency-label': 'عدد الحصص أسبوعياً:',
                'frequency-1': '1 يوم',
                'frequency-2': '2 أيام',
                'frequency-3': '3 أيام',
                'frequency-4': '4 أيام',
                'frequency-5': '5 أيام',
                'frequency-6': '6 أيام',
                'total-monthly-price-label': 'الإجمالي الشهري:', 
                'package3-flexibility': 'مرونة في تحديد المواعيد.',
                'package4-h3': 'الباقة الفردية للبالغين',
                'package4-desc': 'تطوير مستواك القرآني بتركيز كامل ودعم شخصي.',
                'package4-flexibility': 'مرونة في تحديد المواعيد.',
                'package5-h3': 'باقة الإجازة بالسند',
                'package5-desc': 'مسار مخصص لإتقان القرآن والحصول على الإجازة بالسند المتصل برواية حفص أو بقراءة عاصم.',
                'package-btn': 'احجز الآن',
                'feature-flexibility': 'مرونة في تحديد المواعيد',
                'feature-postpone-cancel': 'إمكانية تأجيل أو إلغاء الحلقة',
                'feature-custom-plan': 'خطة مخصصة حسب ما يرغب به الطالب',
                'feature-ijazah-free': 'الإجازة مجانية',
                'newsletter-h2': 'اشترك في نشرتنا البريدية',
                'newsletter-p': 'ابق على اطلاع بآخر أخبارنا، الدورات الجديدة، والمقالات القرآنية المفيدة مباشرة في بريدك الوارد.',
                'newsletter-email-placeholder': 'أدخل بريدك الإلكتروني',
                'newsletter-subscribe-btn': 'اشترك الآن',
                'faq-h2': 'الأسئلة الشائعة',
                'faq-q0': 'ما هي الإجازة؟',
                'faq-a0': 'هي رخصة وشهادة من شيخ مجاز له سند متصل بالنبي صلى الله عليه وسلم، وهي شهادة من الشيخ أنك قرأت القرآن الكريم كاملاً بأحكام التجويد والتلاوة الصحيحة غيباً عن ظهر قلب، ورخصة قراءة وإقراء، أي أن تعلم من بعدك من طلبة العلم.',
                'faq-q1': 'ما هي شروط الحصول على الإجازة؟',
                'faq-a1': 'الشرط الأساسي عند كل المشايخ والمقرئين هو قراءة القرآن الكريم كاملاً قراءة صحيحة بأحكام التجويد غيباً عن ظهر قلب. وقد يزيد كل شيخ من الشروط حسب طريقته وأسلوبه كأن يكون هناك اختبار بعد إنهاء الختمة مثلاً.',
                'faq-q2': 'هل الدروس متاحة للمبتدئين؟',
                'faq-a2': 'نعم، إذا كنت تجيد قراءة اللغة العربية فيمكنك البدء معنا من الصفر لتعلم تلاوة القرآن الكريم وتجويده وحتى الحصول على إجازة بالسند المتصل إلى رسول الله صلى الله عليه وسلم.',
                'faq-q3': 'ما هي المنصات المستخدمة للتعليم عن بُعد؟',
                'faq-a3': 'نستخدم منصات تعليمية مرنة وموثوقة مثل Zoom أو Google Meet، مما يتيح تجربة تعليمية تفاعلية ومريحة من أي مكان في العالم.',
                'faq-q4': 'كيف يمكنني حجز جلسة تجريبية مجانية؟',
                'faq-a4': 'يمكنك حجز جلسة تجريبية مجانية مباشرة من خلال هذه الصفحة، أو يمكنك التواصل معنا وحجز جلستك التجريبية من خلال واتساب.',
                'contact-h2': 'تواصل معنا واحجز جلستك المجانية',
                'contact-info-h3': 'معلومات التواصل',
                'contact-info-email': '<i class="fas fa-envelope"></i> البريد الإلكتروني: abdelrahmanhamada3342@gmail.com',
                'contact-info-whatsapp': '<i class="fab fa-whatsapp"></i> واتساب: +201001947998',
                'contact-info-location': '<i class="fas fa-map-marker-alt"></i> الموقع: العاشر من رمضان، الشرقية، مصر (خدمة عالمية)',
                'contact-info-p-general': 'لا تتردد في الاتصال بنا. نحن هنا لخدمتك والإجابة على استفساراتك.',
                'booking-form-h3': 'احجز جلستك التجريبية المجانية',
                'modal-h3': 'تم إرسال طلبك بنجاح!',
                'modal-p': 'شكراً لك! لقد تم استلام طلبك. سنتواصل معك قريباً جداً.', 
                'modal-close-btn': 'حسناً',
                'footer-col1-h3': 'عن الشيخ',
                'footer-col1-p': 'الشيخ عبد الرحمن حماده خليل، معلم ومجاز في القرآن الكريم بسند متصل، ملتزم بنشر علم كتاب الله وتقديم تعليم قرآني متميز للعالم أجمع.',
                'footer-col2-h3': 'روابط سريعة',
                'nav-home-footer': 'الرئيسية',
                'nav-about-footer': 'عن الشيخ',
                'nav-ijazat-footer': 'الإجازات',
                'nav-packages-footer': 'باقاتنا',
                'nav-faq-footer': 'الأسئلة الشائعة',
                'nav-contact-footer': 'تواصل معنا',
                'footer-col3-h3': 'ابق على تواصل',
                'footer-col3-email': '<i class="fas fa-envelope"></i> abdelrahmanhamada3342@gmail.com',
                'footer-col3-whatsapp': '<i class="fab fa-whatsapp"></i> +201001947998',
                'copyright': '© <span id="current-year"></span> الشيخ عبد الرحمن حماده خليل. جميع الحقوق محفوظة.',
            },
            'en': {
                'page-title': 'Shaykh Abdelrahman Hamada Khalil Website',
                'logo-alt': 'Shaykh Abdelrahman Hamada Khalil Logo',
                'nav-home': 'Home',
                'nav-about': 'About Shaykh',
                'nav-ijazat': 'Certifications & Qualifications',
                'nav-packages': 'Our Packages',
                'nav-why-us': 'Why Choose Us?',
                'nav-faq': 'FAQ',
                'nav-contact': 'Contact Us',
                'current-lang-display': 'English',
                'hero-h1': 'Learn Quranic Recitation with Tajweed and Obtain an Ijazah with a Connected Sanad',
                'hero-p': 'Embark on your Quranic journey with us. We offer accessible education and a unique experience in learning the Book of Allah.',
                'hero-btn': 'Start Your Quranic Journey Now',
                'about-h2': 'About Shaykh Abdelrahman Hamada Khalil',
                'about-img-alt': 'Shaykh Abdelrahman Hamada Khalil',
                'about-h3': 'My Journey in Serving the Quran',
                'about-p1': 'All praise is due to Allah, Lord of the Worlds, and prayers and peace be upon the Seal of the Prophets and Messengers. I am Shaykh Abdelrahman Hamada Khalil, a student at Al-Azhar University, Faculty of Languages and Translation, Chinese Literature Department, and a certified and qualified teacher of the Holy Quran. I have dedicated my life to serving the Noble Book of Allah, having received knowledge from esteemed scholars and obtained religious certifications that qualify me to teach and recite the Book of Allah with a connected chain of narration (Sanad) back to our Noble Prophet Muhammad (peace be upon him).',
                'about-p2': 'I believe that learning the Quran is a journey of light and tranquility, and that every student deserves to receive knowledge in the best and easiest ways. Therefore, through this platform, I offer my educational methodology that combines the authenticity of traditional reception with the requirements of modern distance learning, so that you can master recitation, perfect Tajweed, achieve certification (Ijazah), and become among the people of the Quran, who are the people of Allah and His chosen ones. I have experience as an online Quran teacher at Rafraf Academy (July 2024 - Present), a freelance online Quran teacher since July 2021, and a freelance offline Quran teacher since November 2024.',
                'about-p3': 'I ask Allah Almighty to accept our good deeds and yours, and to make us all servants of His Noble Book.',
                'ijazat-h2': 'Certifications & Qualifications',
                'ijaza-card1-h3': 'Quranic Certifications (Ijazat)',
                'ijaza-card1-p': 'I am honored to hold several Quranic certifications with a connected Sanad to the Messenger of Allah (peace be upon him), ensuring the accuracy and authenticity of the recitation I will convey to you.',
                'ijaza-card1-li1': 'Ijazah in Hafs from Asim narration via Al-Shatibiyyah (from Shaykh Azab Mahmoud).',
                'ijaza-card1-li2': 'Ijazah in Imam Asim\'s recitation with Hafs and Shu\'bah narrations via Al-Shatibiyyah (from Shaykhah Hanan Mohamed Abdel Aziz).',
                'ijaza-card1-li3': 'Ijazah in Imam Hamza\'s recitation with Khalaf and Khallad narrations via Al-Shatibiyyah (from Shaykh Hany Mansour El-Sharqawy).',
                'ijaza-card1-li4': 'Received the Quran from esteemed scholars known for their knowledge and virtue.',
                'ijaza-card2-h3': 'Educational Qualifications & Experience',
                'ijaza-card2-p': 'In addition to Quranic certifications, I possess educational qualifications and extensive practical experience in teaching the Holy Quran and its sciences.',
                'ijaza-card2-li1': 'Student at Al-Azhar University, Faculty of Languages and Translation, Chinese Literature Department.',
                'ijaza-card2-li2': 'Experience as an online Quran teacher (Rafraf Academy and freelance) and an offline Quran teacher.',
                'ijaza-card2-li3': 'Flexible and personalized teaching methodology to suit each student\'s needs.',
                'ijaza-card2-li4': 'Excellent communication skills to ensure a motivating learning environment.',
                'packages-h2': 'Our Educational Packages',
                'package1-h3': 'Kids Group Package',
                'package1-desc': 'Fun and motivating group lessons for children (5 students), one full hour per session.',
                'package1-availability': 'Available every day except Friday.',
                'package2-h3': 'Adults Group Package',
                'package2-desc': 'Focused group lessons for adults (3 students), one full hour per session.',
                'package2-availability': '', 
                'package3-h3': 'Kids Individual Package',
                'package3-desc': 'Personalized attention and full focus on your child.',
                'select-duration-label': 'Session Duration:',
                'duration-20min': '20 Minutes',
                'duration-30min': '30 Minutes',
                'duration-40min': '40 Minutes',
                'duration-45min': '45 Minutes',
                'duration-60min': '60 Minutes',
                'select-frequency-label': 'Sessions per Week:',
                'frequency-1': '1 Day',
                'frequency-2': '2 Days',
                'frequency-3': '3 Days',
                'frequency-4': '4 Days',
                'frequency-5': '5 Days',
                'frequency-6': '6 Days',
                'total-monthly-price-label': 'Total Monthly:', 
                'package3-flexibility': 'Flexible scheduling.',
                'package4-h3': 'Adults Individual Package',
                'package4-desc': 'Develop your Quranic level with full focus and personal support.',
                'package4-flexibility': 'Flexible scheduling.',
                'package5-h3': 'Ijazah with Sanad Package',
                'package5-desc': 'A dedicated track to master the Quran and obtain an Ijazah with a connected Sanad in Hafs or Asim recitation.',
                'package-btn': 'Enroll Now',
                'feature-flexibility': 'Flexible scheduling',
                'feature-postpone-cancel': 'Possibility to postpone or cancel the session',
                'feature-custom-plan': 'Customized plan according to student\'s wishes',
                'feature-ijazah-free': 'Ijazah is free',
                'newsletter-h2': 'Subscribe to Our Newsletter',
                'newsletter-p': 'Stay updated with our latest news, new courses, and beneficial Quranic articles directly in your inbox.',
                'newsletter-email-placeholder': 'Enter your email address',
                'newsletter-subscribe-btn': 'Subscribe Now',
                'faq-h2': 'Frequently Asked Questions',
                'faq-q0': 'What is an Ijazah?',
                'faq-a0': 'It is a license and certificate from a certified Shaykh with a connected Sanad to the Prophet (peace be upon him). It is a certificate from the Shaykh that you have recited the entire Holy Quran correctly with Tajweed rules by heart, and a license to recite and teach, meaning you can teach subsequent students of knowledge.',
                'faq-q1': 'What are the requirements to obtain an Ijazah?',
                'faq-a1': 'The primary condition for all Shaykhs and reciters is to recite the entire Holy Quran correctly with Tajweed rules by heart. Each Shaykh may add additional conditions based on their method and style, such as an exam after completing the recitation.',
                'faq-q2': 'Are the lessons available for beginners?',
                'faq-a2': 'Yes, if you can read Arabic, you can start with us from scratch to learn Quranic recitation and Tajweed, and even obtain an Ijazah with a connected Sanad to the Messenger of Allah (peace be upon him).',
                'faq-q3': 'What platforms are used for distance learning?',
                'faq-a3': 'We use flexible and reliable learning platforms such as Zoom or Google Meet, which provide an interactive and comfortable learning experience from anywhere in the world.',
                'faq-q4': 'How can I book a free trial session?',
                'faq-a4': 'You can book a free trial session directly through this page, or you can contact us and book your trial session via WhatsApp.',
                'contact-h2': 'Contact Us and Book Your Free Session',
                'contact-info-h3': 'Contact Information',
                'contact-info-email': '<i class="fas fa-envelope"></i> Email: abdelrahmanhamada3342@gmail.com',
                'contact-info-whatsapp': '<i class="fab fa-whatsapp"></i> WhatsApp: +201001947998',
                'contact-info-location': '<i class="fas fa-map-marker-alt"></i> Location: 10th of Ramadan City, Sharqia, Egypt (Global Service)',
                'contact-info-p-general': 'Do not hesitate to contact us. We are here to serve you and answer your inquiries.',
                'booking-form-h3': 'Book Your Free Trial Session',
                'modal-h3': 'Your Request Has Been Sent Successfully!',
                'modal-p': 'Thank you! Your request has been received. We will contact you very soon.', 
                'modal-close-btn': 'Okay',
                'footer-col1-h3': 'About Shaykh',
                'footer-col1-p': 'Shaykh Abdelrahman Hamada Khalil, a certified and qualified teacher of the Holy Quran with a connected Sanad, is committed to spreading the knowledge of Allah\'s Book and providing distinguished Quranic education worldwide.',
                'footer-col2-h3': 'Quick Links',
                'nav-home-footer': 'Home',
                'nav-about-footer': 'About Shaykh',
                'nav-ijazat-footer': 'Certifications',
                'nav-packages-footer': 'Our Packages',
                'nav-faq-footer': 'FAQ',
                'nav-contact-footer': 'Contact Us',
                'footer-col3-h3': 'Stay Connected',
                'footer-col3-email': '<i class="fas fa-envelope"></i> abdelrahmanhamada3342@gmail.com',
                'footer-col3-whatsapp': '<i class="fab fa-whatsapp"></i> +201001947998',
                'copyright': '© <span id="current-year"></span> Shaykh Abdelrahman Hamada Khalil. All Rights Reserved.',
            }
        };

        // Function to update content based on language
        function updateContent(lang) {
            document.documentElement.lang = lang;
            document.documentElement.dir = (lang === 'ar' ? 'rtl' : 'ltr');

            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.dataset.key;
                if (translations[lang] && translations[lang][key]) { // Check if lang and key exist
                    if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                        element.placeholder = translations[lang][key];
                    } else if (element.tagName === 'IMG' && element.hasAttribute('alt')) {
                        element.alt = translations[lang][key];
                    } else {
                        element.innerHTML = translations[lang][key];
                    }
                } else {
                    // console.warn(`Translation key "${key}" not found for language "${lang}".`);
                }
            });

            const currentLangDisplay = document.querySelector('[data-key="current-lang-display"]');
            if (currentLangDisplay && translations[lang] && translations[lang]['current-lang-display']) {
                 currentLangDisplay.textContent = translations[lang]['current-lang-display'];
            }

            const logoImg = document.querySelector('.logo img');
            if (logoImg) {
                if (lang === 'ar') {
                    logoImg.style.marginInlineEnd = '15px';
                    logoImg.style.marginInlineStart = '0';
                } else {
                    logoImg.style.marginInlineStart = '15px';
                    logoImg.style.marginInlineEnd = '0';
                }
            }
        }

        // Function to calculate package price
        function calculatePackagePrice(packageType) {
            // console.log(`Attempting to calculate price for: ${packageType}`); 

            let durationSelect, frequencySelect, totalPriceSpan;
            let pricePerMinute = 0;
            let baseMonthlyPricePerFrequency = 0; 
            let monthlyPrice = 0;

            try {
                switch (packageType) {
                    case 'kids': 
                        durationSelect = document.getElementById('kids-duration');
                        frequencySelect = document.getElementById('kids-frequency');
                        totalPriceSpan = document.getElementById('kids-total-price'); // This is the <span> for the price value
                        if (durationSelect && frequencySelect && totalPriceSpan) {
                            const duration = parseInt(durationSelect.value);
                            const frequency = parseInt(frequencySelect.value);
                            // Updated price for individual kids: 150 EGP per hour = 150 / 60 = 2.5 EGP per minute
                            pricePerMinute = 150 / 60; 
                            const pricePerSession = pricePerMinute * duration;
                            monthlyPrice = pricePerSession * frequency * 4; 
                            totalPriceSpan.textContent = monthlyPrice.toFixed(0); // Display as integer
                            // console.log(`Kids Individual: Duration=${duration}min, Freq/wk=${frequency}, Price/Session=${pricePerSession}, MonthlyPrice=${monthlyPrice}`);
                        } else {
                            console.error(`Error for ${packageType}: One or more elements not found. Duration: ${durationSelect}, Frequency: ${frequencySelect}, Price Span: ${totalPriceSpan}`);
                        }
                        break;
                    case 'adults': 
                        durationSelect = document.getElementById('adults-duration');
                        frequencySelect = document.getElementById('adults-frequency');
                        totalPriceSpan = document.getElementById('adults-total-price');
                        if (durationSelect && frequencySelect && totalPriceSpan) {
                            const duration = parseInt(durationSelect.value);
                            const frequency = parseInt(frequencySelect.value);
                            // Updated price for individual adults: 200 EGP per hour = 200 / 60 = 3.333... EGP per minute
                            pricePerMinute = 200 / 60; 
                            const pricePerSession = pricePerMinute * duration;
                            monthlyPrice = pricePerSession * frequency * 4; 
                            totalPriceSpan.textContent = monthlyPrice.toFixed(0); // Display as integer
                            // console.log(`Adults Individual: Duration=${duration}min, Freq/wk=${frequency}, Price/Session=${pricePerSession}, MonthlyPrice=${monthlyPrice}`);
                        } else {
                            console.error(`Error for ${packageType}: One or more elements not found. Duration: ${durationSelect}, Frequency: ${frequencySelect}, Price Span: ${totalPriceSpan}`);
                        }
                        break;
                    case 'group-kids': 
                        frequencySelect = document.getElementById('group-kids-frequency');
                        totalPriceSpan = document.getElementById('group-kids-total-price');
                        if (frequencySelect && totalPriceSpan) {
                            const frequency = parseInt(frequencySelect.value);
                            baseMonthlyPricePerFrequency = 100; 
                            monthlyPrice = frequency * baseMonthlyPricePerFrequency;
                            totalPriceSpan.textContent = monthlyPrice.toFixed(0); // Display as integer
                            // console.log(`Kids Group: Freq/wk=${frequency}, BasePrice/Freq=${baseMonthlyPricePerFrequency}, MonthlyPrice=${monthlyPrice}`);
                        } else {
                            console.error(`Error for ${packageType}: One or more elements not found. Frequency: ${frequencySelect}, Price Span: ${totalPriceSpan}`);
                        }
                        break;
                    case 'group-adults': 
                        frequencySelect = document.getElementById('group-adults-frequency');
                        totalPriceSpan = document.getElementById('group-adults-total-price');
                        if (frequencySelect && totalPriceSpan) {
                            const frequency = parseInt(frequencySelect.value);
                            baseMonthlyPricePerFrequency = 160; 
                            monthlyPrice = frequency * baseMonthlyPricePerFrequency;
                            totalPriceSpan.textContent = monthlyPrice.toFixed(0); // Display as integer
                            // console.log(`Adults Group: Freq/wk=${frequency}, BasePrice/Freq=${baseMonthlyPricePerFrequency}, MonthlyPrice=${monthlyPrice}`);
                        } else {
                            console.error(`Error for ${packageType}: One or more elements not found. Frequency: ${frequencySelect}, Price Span: ${totalPriceSpan}`);
                        }
                        break;
                    case 'ijazah': 
                        durationSelect = document.getElementById('ijazah-duration');
                        frequencySelect = document.getElementById('ijazah-frequency');
                        totalPriceSpan = document.getElementById('ijazah-total-price');
                        if (durationSelect && frequencySelect && totalPriceSpan) {
                            const duration = parseInt(durationSelect.value);
                            const frequency = parseInt(frequencySelect.value);
                            // Updated price for Ijazah package: 250 EGP per hour = 250 / 60 = 4.166... EGP per minute
                            pricePerMinute = 250 / 60; 
                            const pricePerSession = pricePerMinute * duration;
                            monthlyPrice = pricePerSession * frequency * 4;
                            totalPriceSpan.textContent = monthlyPrice.toFixed(0); // Display as integer
                            // console.log(`Ijazah: Duration=${duration}min, Freq/wk=${frequency}, Price/Session=${pricePerSession}, MonthlyPrice=${monthlyPrice}`);
                        } else {
                           console.error(`Error for ${packageType}: One or more elements not found. Duration: ${durationSelect}, Frequency: ${frequencySelect}, Price Span: ${totalPriceSpan}`);
                        }
                        break;
                    default:
                        console.error(`Unknown package type: ${packageType}`);
                }
            } catch (error) {
                console.error(`Exception in calculatePackagePrice for ${packageType}:`, error);
                if(totalPriceSpan) { // Check if totalPriceSpan was assigned before error
                    totalPriceSpan.textContent = 'خطأ'; 
                }
            }
        }

        // Function to initialize all event listeners and initial calculations
        function initializePage() {
            const savedLang = localStorage.getItem('selectedLang') || 'ar'; 
            updateContent(savedLang); // Update text content first

            // console.log('DOM fully loaded and parsed. Initializing prices and listeners...');
            
            // Now that content (including data-key elements) is updated, calculate prices
            // Adding a small delay to ensure all elements are rendered, though DOMContentLoaded should handle most cases.
            setTimeout(() => {
                calculatePackagePrice('kids');
                calculatePackagePrice('adults');
                calculatePackagePrice('group-kids');
                calculatePackagePrice('group-adults');
                calculatePackagePrice('ijazah');
            }, 100); 
            
            document.querySelectorAll('nav a[href^="#"], #back-to-top').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId && targetId !== '#') {
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            targetElement.scrollIntoView({ behavior: 'smooth' });
                        } else {
                            // console.warn(`Scroll target ${targetId} not found.`);
                        }
                    } else {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                    const navLinksElement = document.querySelector('.nav-links');
                    if (window.innerWidth <= 768 && navLinksElement && navLinksElement.classList.contains('active')) {
                        navLinksElement.classList.remove('active');
                    }
                });
            });

            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            if(menuToggle && navLinks) {
                menuToggle.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                });
                document.addEventListener('click', function(event) {
                    if (navLinks.classList.contains('active') && 
                        !navLinks.contains(event.target) && 
                        !menuToggle.contains(event.target)) {
                        navLinks.classList.remove('active');
                    }
                });
            }

            const languageSwitcher = document.querySelector('.language-switcher');
            if (languageSwitcher) {
                languageSwitcher.addEventListener('click', (event) => {
                    event.stopPropagation(); 
                    languageSwitcher.classList.toggle('active');
                });
                document.querySelectorAll('.language-switcher .dropdown-content a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation(); 
                        const newLang = e.target.dataset.lang;
                        localStorage.setItem('selectedLang', newLang); // Save selected language
                        updateContent(newLang); // Update content based on new language
                        languageSwitcher.classList.remove('active'); 
                    });
                });
                document.addEventListener('click', function(event) {
                    if (languageSwitcher.classList.contains('active') && !languageSwitcher.contains(event.target)) {
                        languageSwitcher.classList.remove('active');
                    }
                });
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in, .scale-in, .section-header').forEach(element => {
                observer.observe(element);
            });

            const currentYearSpan = document.getElementById('current-year');
            if(currentYearSpan) {
                currentYearSpan.textContent = new Date().getFullYear();
            }

            document.querySelectorAll('.faq-question').forEach(item => {
                item.addEventListener('click', function() {
                    const currentlyActive = document.querySelector('.faq-question.active');
                    if (currentlyActive && currentlyActive !== this) {
                        currentlyActive.classList.remove('active');
                    }
                    this.classList.toggle('active');
                });
            });

            const backToTopButton = document.getElementById('back-to-top');
            if(backToTopButton){
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) {
                        backToTopButton.classList.add('show');
                    } else {
                        backToTopButton.classList.remove('show');
                    }
                });
            }

            const successModal = document.getElementById('successModal');
            const closeModalButton = document.getElementById('closeModal');
            if(successModal && closeModalButton) {
                closeModalButton.addEventListener('click', () => {
                    successModal.classList.remove('show');
                });
                window.addEventListener('click', (event) => {
                    if (event.target == successModal) {
                        successModal.classList.remove('show');
                    }
                });
            }

            const newsletterForm = document.getElementById('newsletterForm');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const emailInput = document.getElementById('newsletterEmail');
                    if (!emailInput) {
                        console.error("Newsletter email input not found.");
                        return;
                    }
                    const email = emailInput.value;
                    
                    await new Promise(resolve => setTimeout(resolve, 1000)); 
                    
                    const newsletterModal = document.getElementById('successModal');
                    if (newsletterModal) {
                        const modalH3 = newsletterModal.querySelector('h3');
                        const modalP = newsletterModal.querySelector('p');
                        const currentLang = localStorage.getItem('selectedLang') || 'ar';
                        if(modalH3 && translations[currentLang] && translations[currentLang]['modal-h3']) modalH3.innerHTML = translations[currentLang]['modal-h3'];
                        if(modalP && translations[currentLang] && translations[currentLang]['modal-p']) modalP.innerHTML = translations[currentLang]['modal-p'];
                        newsletterModal.classList.add('show');
                    } else {
                        console.error("Success modal for newsletter not found.");
                        const currentLang = localStorage.getItem('selectedLang') || 'ar';
                        alert(translations[currentLang] && translations[currentLang]['modal-h3'] ? translations[currentLang]['modal-h3'] : "Success!");
                    }
                    emailInput.value = ''; 
                });
            }
        }

        // Ensure the script runs after the DOM is fully loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializePage);
        } else {
            // DOMContentLoaded has already fired
            initializePage();
        }
    </script>
</body>
</html>
